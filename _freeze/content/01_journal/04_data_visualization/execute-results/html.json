{
  "hash": "c72d7836ec1bc6b8237ee93fb33c0e2f",
  "result": {
    "markdown": "---\ntitle: \"Data Visualization\"\nauthor: \"Gurukiran Ravi\"\n---\n\n\n# Challenge_1: \n## Map the time course of the cumulative Covid-19 cases.\n\n\n::: {.cell hash='04_data_visualization_cache/html/unnamed-chunk-1_cbda75edd37c78f5fe103d640fb30589'}\n\n```{.r .cell-code}\nsuppressWarnings({\nlibrary(tidyverse)\nlibrary(dplyr)\nlibrary(lubridate)\nlibrary(ggplot2)\nlibrary(scales)\n})\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n#> ✔ dplyr     1.1.2     ✔ readr     2.1.4\n#> ✔ forcats   1.0.0     ✔ stringr   1.5.0\n#> ✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n#> ✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n#> ✔ purrr     1.0.1     \n#> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n#> ✖ dplyr::filter() masks stats::filter()\n#> ✖ dplyr::lag()    masks stats::lag()\n#> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n#> \n#> Attaching package: 'scales'\n#> \n#> \n#> The following object is masked from 'package:purrr':\n#> \n#>     discard\n#> \n#> \n#> The following object is masked from 'package:readr':\n#> \n#>     col_factor\n```\n:::\n\n```{.r .cell-code}\ncovid_data_tbl <- read_csv(\"https://opendata.ecdc.europa.eu/covid19/casedistribution/csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Rows: 61900 Columns: 12\n#> ── Column specification ────────────────────────────────────────────────────────\n#> Delimiter: \",\"\n#> chr (5): dateRep, countriesAndTerritories, geoId, countryterritoryCode, cont...\n#> dbl (7): day, month, year, cases, deaths, popData2019, Cumulative_number_for...\n#> \n#> ℹ Use `spec()` to retrieve the full column specification for this data.\n#> ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\ncovid_data_tbl <- covid_data_tbl[order(as.Date(covid_data_tbl$dateRep, format=\"%d/%m/%Y\")),]\n\ncovid_data_tbl2 <- covid_data_tbl %>%\n  filter(countriesAndTerritories %in% c('Spain', 'United_Kingdom', 'France', 'Germany','United_States_of_America')) %>%\n  select(dateRep, countriesAndTerritories, cases) %>%\n  group_by(countriesAndTerritories) %>%\n  mutate(cumulativeCases = cumsum(cases))  %>%\n  select(dateRep, countriesAndTerritories, cumulativeCases) %>%\n  rename(countries = countriesAndTerritories)\n# Plotting the values \nticks = c(\"Dec\",\"Jan\", 'Feb','March', 'April', 'May', 'June','July',\n          'Aug','Sept','Oct','Nov','Dec')\ny_ticks = seq(0,max(covid_data_tbl2$cumulativeCases),1250000)\ncovid_data_tbl2 %>%\n  ggplot(aes(x = as.POSIXct(dateRep, format = '%d/%m/%Y'), y = cumulativeCases)) +\n  geom_line(aes(color = countries), linewidth = 1) +\n  labs(x = 'Year 2020', y='Cumulative Cases', fill = 'Countries') +\n  scale_x_datetime(date_breaks = 'month', labels = label_date_short()) +\n  scale_y_continuous(breaks = c(y_ticks))\n```\n\n::: {.cell-output-display}\n![](04_data_visualization_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\n# Challenge_2: \n## Visualize the distribution of the mortality rate (deaths / population).\n\n\n::: {.cell hash='04_data_visualization_cache/html/unnamed-chunk-2_2bcb06d39c9f022f574ecd97bc845476'}\n\n```{.r .cell-code}\nsuppressWarnings({\nlibrary(tidyverse)\nlibrary(ggthemes)\nlibrary(ggrepel)\nlibrary(lubridate)\nlibrary(maps)\n})  \n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attaching package: 'maps'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> The following object is masked from 'package:purrr':\n#> \n#>     map\n```\n:::\n\n```{.r .cell-code}\ncovid_data_tbl <- read_csv(\"https://covid.ourworldindata.org/data/owid-covid-data.csv\") %>% \n  mutate(mortality_rate = total_deaths / population) %>% \n  group_by(location) %>% \n  summarise(latest_mort_rate = last(mortality_rate)) %>% \n  select(location, latest_mort_rate) %>% \n  mutate(location = case_when(\n    \n    location == \"United Kingdom\" ~ \"UK\",\n    location == \"United States\" ~ \"USA\",\n    location == \"Democratic Republic of Congo\" ~ \"Democratic Republic of the Congo\",\n    TRUE ~ location\n    \n  )) %>%\n  distinct()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Rows: 318445 Columns: 67\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> ── Column specification ────────────────────────────────────────────────────────\n#> Delimiter: \",\"\n#> chr   (4): iso_code, continent, location, tests_units\n#> dbl  (62): total_cases, new_cases, new_cases_smoothed, total_deaths, new_dea...\n#> date  (1): date\n#> \n#> ℹ Use `spec()` to retrieve the full column specification for this data.\n#> ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nworld <- map_data(\"world\")\n\ncovid_map <- merge(x = world, y = covid_data_tbl, by.x = \"region\", by.y = \"location\") %>% \n  select(region, long, lat, latest_mort_rate)\n\ncovid_map %>% \n  ggplot() +\n  \n  geom_map(aes(x = long, y = lat, map_id = region, fill = latest_mort_rate), map = world) +\n  \n  borders(\"world\", colour = \"grey70\") +\n  \n  scale_fill_continuous(labels = scales::percent_format(accuracy = 0.001), \n                        low = \"firebrick1\", \n                        high = \"darkred\") +\n  \n  labs(\n    title = \"Confirmed COVID-19 deaths relative to the size of the population\",\n    subtitle = \"Around 6.2 Million confirmed COVID-19 deaths worldwide\",\n    caption = \"Date: 08/05/2022\",\n    fill = \"Mortality Rate\"\n  ) +\n  \n  theme_minimal() +\n  \n  theme(\n    axis.line = element_blank(),\n    axis.text = element_blank(),\n    axis.ticks = element_blank(),\n    axis.title = element_blank(),\n    title = element_text(color = \"black\"),\n    legend.position = \"right\"\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning in geom_map(aes(x = long, y = lat, map_id = region, fill =\n#> latest_mort_rate), : Ignoring unknown aesthetics: x and y\n```\n:::\n\n::: {.cell-output-display}\n![](04_data_visualization_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}